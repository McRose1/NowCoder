# 多线程类型错题

## 假设test类运行于多线程环境下，那么关于A处的同步下面描述正确的是（）
```java
 public class Test {
  List list= new java.util.ArrayList();
  public void test() {
    synchronized ( list) { // --A
      list.add( String.valueOf(System.currentTimeMillis()));
    }
  }
}
```
- A. test方法中必须增加synchronized
- B. Test类为singleton时有必要增加synchronized
- C. test方法中没有必要增加synchronized
- D. Test类为singleton时也没有必要增加synchronized

答案：B

解析：
- A：多线程操作同一个test()，那么要加synchronized。如果Test类不是单例的话，那么list就是多个Test类里的多个实例list，多线程操作不同的test()方法，不会发生线程冲突问题，所以没必要synchronized
- B：单例Test时，保证list也是唯一的实例对象，多线程访问test方法时，共同抢夺list这把对象监视锁
- C：与A解释相似，有没有必要看Test类是否单例
- D：单例时，必要加上synchronized才能保证线程安全性
